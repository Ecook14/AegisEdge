# AegisEdge Configuration Environment
# ----------------------------------

# PROXY PORTS
# Comma-separated list of ports the proxy will listen on.
# Overrides 'listen_port' and 'listen_ports' in config.json.
AEGISEDGE_PORTS=80,443,8080

# SSL/TLS CERTIFICATES (Required for Port 443 L7 Protection)
AEGISEDGE_SSL_CERT=certs/cert.pem
AEGISEDGE_SSL_KEY=certs/key.pem

# Single port override (legacy convenience)
# AEGISEDGE_PORT=8888

# UPSTREAM DESTINATION
# The backend server AegisEdge protects.
AEGISEDGE_UPSTREAM=http://127.0.0.1:3000

# HYPERVISOR COMPATIBILITY (Proxmox, VMware, KVM)
# Set to 'true' to optimize for virtualized environments (adjusts keep-alives and timeouts).
AEGISEDGE_HYPERVISOR_MODE=true

# ZERO-DOWNTIME HOT TAKEOVER
# Set to 'true' to hijack traffic from occupied ports (like Apache/Nginx on port 80)
# using firewall-level redirection.
AEGISEDGE_HOT_TAKEOVER=true

# TCP STREAM SHIELD (Non-HTTP)
# Comma-separated list of raw TCP ports to protect (e.g., SSH, MySQL, Postgres).
# These ports will also use Hot-Takeover if they are occupied.
AEGISEDGE_TCP_PORTS=22,3306,5432

# SECURITY THRESHOLDS
AEGISEDGE_L4_CONN_LIMIT=50
AEGISEDGE_L7_RATE_LIMIT=10.0

# REDIS CONFIGURATION (Required for cluster mode)
# AEGISEDGE_REDIS_ADDR=127.0.0.1:6379
# AEGISEDGE_REDIS_PASSWORD=

# GEOIP DATABASE
AEGISEDGE_GEOIP_DB=GeoLite2-Country.mmdb
